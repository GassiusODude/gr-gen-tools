<block>
    <name>Recorder</name>
    <key>Recorder</key>
    <category>[gr-gen-tools]/Utils</category>
    <import>from gr_gen_tools.utils.recorder import Recorder</import>
    <make>Recorder(radio_frequency=$radio_frequency, sample_rate=$sample_rate, max_duration_seconds=$max_duration_seconds, enable=$enable, output_dir=$output_dir, dtype=$(dtype.const_type))</make>
    <callback>set_radio_frequency($radio_frequency)</callback>
    <callback>set_sample_rate($sample_rate)</callback>
    <callback>set_max_duration_seconds($max_duration_seconds)</callback>
    <callback>set_enable($enable)</callback>
    <callback>set_output_dir($output_dir)</callback>
    <param>
        <name>radio_frequency</name>
        <key>radio_frequency</key>
        <value>100e6</value>
        <type>float</type>
    </param>
    <param>
        <name>sample_rate</name>
        <key>sample_rate</key>
        <value>0</value>
        <type>float</type>
    </param>
    <param>
        <name>max_duration_seconds</name>
        <key>max_duration_seconds</key>
        <value>600</value>
        <type>float</type>
    </param>
    <param>
        <name>enable</name>
        <key>enable</key>
        <value>True</value>
        <type>raw</type>
    </param>
    <param>
        <name>output_dir</name>
        <key>output_dir</key>
        <value>"/tmp"</value>
        <type>string</type>
    </param>
    <param>
    <name>Data Type</name>
    <key>dtype</key>
    <type>enum</type>
    <option>
      <name>Complex</name>
      <key>complex</key>
      <opt>const_type:np.complex64</opt>
    </option>
    <option>
      <name>Float</name>
      <key>float</key>
      <opt>const_type:np.float32</opt>
    </option>
    <option>
      <name>Short</name>
      <key>short</key>
      <opt>const_type:np.int16</opt>
    </option>
    <option>
      <name>Integer</name>
      <key>int</key>
      <opt>const_type:np.int32</opt>
    </option>
    <option>
      <name>Byte</name>
      <key>byte</key>
      <opt>const_type:np.uint8</opt>
    </option>
  </param>
    <sink>
        <name>in</name>
        <type>$dtype</type>
        <vlen>1</vlen>
    </sink>
<doc>
A recorder block to record signals from an SDR.  Each time the component is enabled a new file is generated with the current time stamp, radio frequency and sampling rate.

The enable property can be tied to a QT checkbox so that the user can configure when to record.
</doc>
</block>
